
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>blog.tkeo.info</title>
  <meta name="author" content="tkeo">

  
  <meta name="description" content="前準備 $ brew install openssl
$ brew link openssl
$ brew install readline
$ brew link readline プロジェクトのディレクトリ作る。 $ mkdir hoge &amp;&amp; cd hoge ruby &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.tkeo.info/posts/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="blog.tkeo.info" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">blog.tkeo.info</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.tkeo.info" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/09/ruby2-rails4-new-project/">Ruby2.0+Rails4で新規プロジェクトを作成したメモ</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-01-09T13:32:37+09:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>1:32 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>前準備</h2>

<pre><code>$ brew install openssl
$ brew link openssl
$ brew install readline
$ brew link readline
</code></pre>

<p>プロジェクトのディレクトリ作る。</p>

<pre><code>$ mkdir hoge &amp;&amp; cd hoge
</code></pre>

<h2>ruby</h2>

<p>ruby 2.0.0-devを入れる。</p>

<pre><code>$ CONFIGURE_OPTS="--with-openssl-dir=`brew --prefix openssl` --with-readline-dir=`brew --prefix readline`" rbenv install 2.0.0-dev
$ rbenv local 2.0.0-dev
</code></pre>

<p>bundlerのバージョンが1.2だと怒られるので1.3を入れる。</p>

<pre><code>$ gem install bundler -v 1.3.0.pre.4
</code></pre>

<h2>rails</h2>

<p>一旦Gemfileにrailsだけ書いてbundle installする。 まだrails 4.0のgemがないのでgithubから取ってくるように指定。</p>

<pre><code>$ cat Gemfile
source :rubygems
gem 'rails', github: 'rails/rails'
</code></pre>

<p>bundle installを実行し、まずrails本体だけ入れる。</p>

<pre><code>$ bundle install
</code></pre>

<p>rails newしていろいろファイルを生成。Gemfileを上書きするか聞かれるので Y で上書き。</p>

<pre><code>$ bundle exec rails new . -d mysql -T --skip-bundle --edge
</code></pre>

<p>再度bundle install</p>

<pre><code>$ bundle install
</code></pre>

<p>これで完了。あとはいつもどおりDBを作って…</p>

<pre><code>$ bundle exec rake db:create
</code></pre>

<p>起動する。</p>

<pre><code> $ bundle exec rails s
=&gt; Booting WEBrick
=&gt; Rails 4.0.0.beta application starting in development on http://0.0.0.0:3000
=&gt; Call with -d to detach
=&gt; Ctrl-C to shutdown server
        SECURITY WARNING: No secret option provided to Rack::Session::Cookie.
        This poses a security threat. It is strongly recommended that you
        provide a secret to prevent exploits that may be possible from crafted
        cookies. This will not be supported in future versions of Rack, and
        future versions will even invalidate your existing user cookies.

        Called from: xxx/ruby/2.0.0/bundler/gems/rails-e63e280bed3a/actionpack/lib/action_dispatch/middleware/session/abstract_store.rb:24:in `initialize'.
[2013-01-07 19:35:35] INFO  WEBrick 1.3.1
[2013-01-07 19:35:35] INFO  ruby 2.0.0 (2013-01-07) [x86_64-darwin11.4.2]
[2013-01-07 19:35:35] INFO  WEBrick::HTTPServer#start: pid=76843 port=3000
</code></pre>

<p>なにやらWARNING出てるけど、とりあえずwelcome画面が出た。</p>

<h2>参考</h2>

<ul>
<li><a href="http://blog.katsuma.tv/2013/01/ruby2.0_rails4.html">Ruby2.0 + Rails4 なアプリを作成する - blog.katsuma.tv</a></li>
<li><a href="http://d.hatena.ne.jp/deeeki/20121124/rails4_1st_impression">Rails4 beta さわってみたメモ #railshackathon - 130単位</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/15/login-tmux/">ログイン直後にtmuxを起動する</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-11-15T14:15:22+09:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>2:15 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>SHLVLっていう環境変数があることを知ったので、.zshrcに以下を追記してログイン直後にtmuxを起動するようにしてみた。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if [ $SHLVL = 1 ]; then
</span><span class='line'>  tmux attach || tmux new
</span><span class='line'>fi</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/09/mac-sshfs/">macでsshfsを使う</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-05-09T02:12:41+09:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>2:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>なんかぐぐるとMacFUSEを入れる方法ばっかり出てくるけど、brewで入れるのであれば不要。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install sshfs
</span><span class='line'>(略)
</span><span class='line'>==&gt; Caveats
</span><span class='line'>Make sure to follow the directions given by `brew info fuse4x-kext`
</span><span class='line'>before trying to use a FUSE-based filesystem.
</span><span class='line'>==&gt; Summary
</span><span class='line'>/usr/local/Cellar/sshfs/2.3.0: 7 files, 120K, built in 12 seconds</span></code></pre></td></tr></table></div></figure>


<p>installすると上のように言われるので指示に従う。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew info fuse4x-kext
</span><span class='line'>fuse4x-kext 0.8.14
</span><span class='line'>http://fuse4x.org/
</span><span class='line'>/usr/local/Cellar/fuse4x-kext/0.8.14 (7 files, 312K)
</span><span class='line'>
</span><span class='line'>In order for FUSE-based filesystems to work, the fuse4x kernel extension
</span><span class='line'>must be installed by the root user:
</span><span class='line'>
</span><span class='line'>  sudo cp -rfX /usr/local/Cellar/fuse4x-kext/0.8.14/Library/Extensions/fuse4x.kext /System/Library/Extensions
</span><span class='line'>  sudo chmod +s /System/Library/Extensions/fuse4x.kext/Support/load_fuse4x
</span><span class='line'>
</span><span class='line'>If upgrading from a previous version of Fuse4x, the old kernel extension
</span><span class='line'>will need to be unloaded before performing the steps listed above. First,
</span><span class='line'>check that no FUSE-based filesystems are running:
</span><span class='line'>
</span><span class='line'>  mount | grep fuse4x
</span><span class='line'>
</span><span class='line'>Unmount all FUSE filesystems and then unload the kernel extension:
</span><span class='line'>
</span><span class='line'>  sudo kextunload -b org.fuse4x.kext.fuse4x
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>http://github.com/mxcl/homebrew/commits/master/Library/Formula/fuse4x-kext.rb</span></code></pre></td></tr></table></div></figure>


<p>上のsudoコマンド2つを叩くだけで使えるようになる(下の方はアップグレードのときに実行するらしい)</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/index.html">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/03/20/refinements/">rubyのrefinementsを使ってみたかった</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/03/08/using-rdbtools/">rdbtoolsを使ってredisのデータの内訳を調べた</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/02/octopress-setup-again/">Octopressデプロイ環境を作り直した</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/01/31/switch-to-fish-shell/">fish shellに移行した</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/26/git-diff-utf-16/">UTF-16なファイルのgit diffを見たい</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - tkeo -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
